<header>
  <div class="container pt-5" data-aos="fade-up">
    <div class="row flex-wrap-reverse align-items-center">
      <div
        class="col-lg-6 position-relative"
        data-aos="fade-right"
        data-aos-delay="600"
      >
        <div class="content">
          <h1 class="display-5 fw-semibold">Discover Restaurant</h1>
          <p class="text-muted py-3">
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
            nonumy eirmod tempor invidunt ut labore et
          </p>
        </div>
        <div class="image-icon position-absolute top-100 start-50">
          <img src="./assets/images/49.png" alt="photo food icon" />
        </div>
      </div>
      <div
        class="col-lg-5 offset-lg-1"
        data-aos="fade-left"
        data-aos-delay="900"
      >
        <div class="image">
          <img src="./assets/images/48.png" alt="food photo" class="w-100" />
        </div>
      </div>
    </div>
  </div>
</header>
<main>
  <!-- ------------ Start Let's Find Something Delicious For You ------------ -->
  <section class="something">
    <div class="container">
      <div
        class="main-title text-center"
        data-aos="fade-left"
        data-aos-offset="-100"
      >
        <h2 class="display-5 fw-semibold">
          Let's Find Something<br />
          Delicious For You
        </h2>
        <p class="col-md-6 mx-auto lh-lg mt-4 text-black-50">
          Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
          nonumy eirmod tempor invidunt ut labore et dolore magna.
        </p>
      </div>
      <div class="auto-search" *ngIf="isError">
        <input
          (change)="getLocation($event)"
          list="data-list"
          placeholder="Search ..."
          class="form-select col-md-6 mx-auto mt-4"
        />
        <h6 class="small text-center text-danger mt-2">Press ( Enter ) To Search</h6>
        <datalist id="data-list">
          <option *ngFor="let countrie of countries" [value]="countrie.name">
            {{ countrie.name }}
          </option>
        </datalist>
      </div>

      <div class="data-resturant" *ngIf="isError ;else msg">
        <div
          class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 mt-2 position-relative"
        >
          <div
            class="col"
            *ngFor="
              let resturant of resturantData | slice: (page - 1) * 3:page * 3
            "
            data-aos="fade-left"
          >
            <div class="card h-100 shadow border-0">
              <img
                class="card-img-top"
                [src]="
                  resturant.photos
                    ? pathImg + resturant.photos[0].photo_reference + googleKey
                    : './assets/images/eror.jpg'
                "
                [alt]="resturant.name"
              />
              <div class="card-body text-center">
                <h3 class="h4 fw-semibold card-title">{{ resturant.name }}</h3>
                <p class="card-text text-black-50">
                  {{ resturant.formatted_address }}
                </p>
                <div class="hstack justify-content-center">
                  <ngb-rating
                    class="te-yellow fs-5"
                    [max]="5"
                    [(rate)]="resturant.rating"
                    [readonly]="true"
                  ></ngb-rating>
                  <span class="mb-0 small text-black-50">
                    User Rating Total : {{ resturant.user_ratings_total }}</span
                  >
                </div>
              </div>
              <span
                class="open-close badge text-bg-success h5 position-absolute top-0 start-50 translate-middle"
                >{{
                  resturant.opening_hours
                    ? resturant.opening_hours.open_now
                      ? "Open Now"
                      : "Close Now"
                    : "Note Found"
                }}</span
              >
            </div>
          </div>

          <div *ngIf="isLoading" class="loading">
            <i class="fas fa-spinner fa-spin fa-8x text-danger"></i>
          </div>
        </div>
        <ng-container *ngIf="resturantData.length">
          <ngb-pagination
            [(page)]="page"
            [pageSize]="3"
            [collectionSize]="resturantData.length"
          ></ngb-pagination>
        </ng-container>
      </div>
      <ng-template #msg >
        <div class="bg-light rounded-3 p-3 border mt-2 text-center">
          <h2 class="display-1 " dir="rtl">
         يوجد مشكله في الوصول الي API<br>
         لحل المشكله وعرض المعلومات يجب عليك اتباع الخطوات التاليه<br>
        
          </h2>
          <ol type="1" class="h4 p-5 text-end alert alert-danger"  dir="rtl">
            <li>قم بالضغط على الزرار بالاسفل</li>
            <li>سوف يتم انتقالك الي صفحه جديده </li>
            <li>قم بالضغط بداخلها على <bdi>Request temporary access to the demo server</bdi></li>
            <li>ثم انتقل الي صفحة الموقع مره اخري وقم بعمل <bdi>Refresh</bdi> </li>
            <li>وسوف يتم حل المشكله وعرض المعلومات</li>
         </ol> 
            <a class="btn btn-danger btn-lg " target="_blank" href="https://cors-anywhere.herokuapp.com/corsdemo">اضغط هنا</a>
           
        </div>
      </ng-template>
      
    </div>
  </section>
  <!-- ------------ End Let's Find Something Delicious For You ------------ -->
  <!-- --------------- End What Customers Say About us ---------------  -->
  <section class="besst-food">
    <div class="container">
      <div class="row flex-wrap-reverse gy-4 align-items-center">
        <div class="col-lg-5" data-aos="zoom-in" data-aos-offset="0">
          <h2 class="display-6 fw-semibold">
            The Best Food Delivery <br />App. Download Now!
          </h2>
          <p class="lh-lg text-muted py-3">
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
            nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
            erat, sed diam voluptua.
          </p>
          <h4>Download Available</h4>
          <div class="hstack flex-wrap">
            <div class="image">
              <img src="./assets/images/app.png" alt="app store" />
            </div>
            <div class="image">
              <img src="./assets/images/google.png" alt="google store" />
            </div>
          </div>
        </div>
        <div class="col-lg-5 offset-lg-2" data-aos="zoom-in-up">
          <div class="image">
            <img class="w-100" src="./assets/images/31.png" alt="phone photo" />
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- --------------- End What Customers Say About us ---------------  -->
</main>
